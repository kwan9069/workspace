<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>링크와 submmit</title>
<script src="../jquery/jquery-3.6.1.min.js"></script>
<script>
	$(document).ready(()=>{
		$('a').on('click',function(ev){ //화살표 함수는 this 안됨! 
			$(this).attr("href","b.html");
			$(this).html('작동');
			ev.preventDefault();
		});//on
		$('#loginform').on('submit',function(event){
			//id - '홍길동','이수철','박보검' 아니여야 한다.			
			//pw 는 5자리 숫자 입력해야 한다.
			var id = $('#id').val();
			var pw = $('#pw').val();
			var id_list = ['홍길동','이수철','박보검'];
			var pw_regex = /^[0-9]{5}$/;
			
			var isID;
			for(var i = 0; i < id_list.length; i ++){
				if(id == id_list[i]) {
					isID = true; //id부적합
					break;
				}	
			}
			
			
			if(isID == true){
				alert("중복된 아이디입니다.");
				event.preventDefault();				
				
			} 
			if(!pw_regex.test(pw)){
				alert("암호 부적합");
				event.preventDefault();				
			} 
			
			
		});//on
	
	});//ready
</script>

</head>
<body>

<a href="a.html">링크이동</a>
<form action="login.jsp" id="loginform">
	<label for="id">로그인</label><input type="text" id="id"><br>
	<label for="pw">암호</label><input type="password" id="pw"><br>
	<input type="submit" id="login" value="로그인"><br>
	<input type="reset" id="cancel" value="취소"><br>
</form>
<!-- 
	$('#submit').on('ckick', function(){
		('loginform2').attr('action',"b.jsp");
		$('loginform2').submit();}) 
	<form action="login.jsp" id="loginform2">
		<label for="id">로그인</label><input type="text" id="id"><br>
		<label for="pw">암호</label><input type="password" id="pw"><br>
		<input type="button" id="submit" value="전송"><br>
		<input type="reset" id="cancel" value="취소"><br>
	</form>
-->
</body>
</html>