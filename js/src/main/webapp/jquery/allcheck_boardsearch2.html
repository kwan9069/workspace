<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>전부 체크!</title>
<script src="../jquery/jquery-3.6.1.min.js"></script>
<script>
	$(document).ready(()=>{
		
		$('#all').on('change',function(){
			//모두 선택
			if($(this).attr("checked") == undefined ){
				$('input[type=checkbox]').attr("checked","checked");
				$('input:checkbox').prop("checked",true);
			} 
			else {
				$('input[type=checkbox]').removeAttr("checked");				
			} 
			
				//모두 해제
			if($(this).prop("checked") != true){
				$('input[type=checkbox]').removeAttr("checked");
				$('input:checkbox').prop("checked",false)
			} 
			else {
				$('input[type=checkbox]').attr("checked","checked");
			} 
				
		})//on
		
		$('#searchform').on('submit', function(e){
			var text = $('input:text').val();
		
			if(text == ''){
				alert("입력된 값이 없습니다. 전송되지 않습니다.");
				e.preventDefault();
			}		

			if($("input:checkbox").is(":checked") != true){
				alert("체크된 것이 없습니다. 전송되지 않습니다.");
				e.preventDefault();
			}
			if($("input:checkbox").is(":checked") == true && text != ''){				
				alert("search.jsp로 이동되었습니다.");				
				e.preventDefault();
			} 
			
		})//on
		
	});//ready
</script>
<!-- 모두 제목 내용 작성자 중 한개 이상 선택하고 검색어를 입력한 다음에 검색 버튼 클릭하면 search.jsp로 전송된다
    1>이 때 모두를 선택시 제목, 내용, 작성자 자동으로 모두 선택되어야 하고
    모두 선택 해제시 제목, 내용, 작성자 자동으로 모두 선택해제되도록 구현한다
    2> 만약 제목 내용 작성자 가운데 아무 것도 선택되지 않거나 검색어 입력되지 않으면 search.jsp로 전송되지 않도록 구현한다
 -->
</head>
<body>
<h1> 검색 대상과 검색어를 입력하세요.</h1>
<form action="search.jsp" id="searchform" >
	<input type=checkbox value="모두" id="all">모두
	<input type=checkbox value="제목" id="title">제목
	<input type=checkbox value="내용" id="contents" >내용
	<input type=checkbox value="작성자" id="writer" >작성자
	<input type=text value="검색어를 입력하세요" />		 
	<input type=submit value="검색" />
</form>
<div id="result"></div>
</body>
</html>